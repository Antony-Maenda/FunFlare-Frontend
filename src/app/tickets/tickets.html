<div class="mx-auto p-4 sm:p-6 lg:p-8 bg-white/85 backdrop-blur-xl rounded-2xl shadow-xl ring-1 ring-cyan-100/30 max-w-2xl md:max-w-3xl lg:max-w-5xl xl:max-w-7xl">
  <!-- Header -->
  <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-8 bg-gradient-to-r from-cyan-600 to-teal-600 bg-clip-text text-transparent">
    Set Tickets for {{ eventData.name || 'New Event' }}
  </h2>

  <form class="space-y-6">
    <!-- Ticket Type Loop -->
    <div *ngFor="let ticket of ticketTypes; let i = index" class="border-b border-gray-200/50 pb-6 last:border-0">
      <h3 class="text-lg sm:text-xl font-semibold text-gray-800 mb-4">
        {{ ticket.type.charAt(0).toUpperCase() + ticket.type.slice(1) }} Tickets
      </h3>

      <!-- Responsive Grid: 1 → 2 → 3 → 4 columns -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
        <!-- Quantity -->
        <div class="relative group">
          <input
            type="number"
            id="quantity-{{i}}"
            name="quantity-{{i}}"
            [(ngModel)]="ticket.quantity"
            (change)="onQuantityChange(i, $event)"
            min="0"
            [max]="eventCapacity"
            required
            class="peer w-full px-4 py-3 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 shadow-inner"
            placeholder="Quantity"
          />
          <label for="quantity-{{i}}"
            class="absolute left-4 -top-2.5 text-xs font-medium text-cyan-600 bg-white px-2 transition-all duration-200 
                   peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 
                   peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-cyan-600">
            Quantity
          </label>
        </div>

        <!-- Price -->
        <div class="relative group">
          <input
            type="number"
            id="price-{{i}}"
            name="price-{{i}}"
            [(ngModel)]="ticket.price"
            (input)="onPriceChange(i, $event)"
            min="0"
            step="0"
            required
            class="peer w-full px-4 py-3 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-200 shadow-inner"
            placeholder="Price (Ksh)"
          />
          <label for="price-{{i}}"
            class="absolute left-4 -top-2.5 text-xs font-medium text-teal-600 bg-white px-2 transition-all duration-200 
                   peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 
                   peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-teal-600">
            Price (Ksh)
          </label>
        </div>

        <!-- Sale Start Date -->
        <div class="relative group">
          <input
            type="date"
            id="saleStartDate-{{i}}"
            name="saleStartDate-{{i}}"
            [(ngModel)]="ticket.saleStartDate"
            (change)="onSaleStartDateChange(i, $event)"
            required
            class="peer w-full px-4 py-3 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 shadow-inner"
            placeholder="Sale Start Date"
          />
          <label for="saleStartDate-{{i}}"
            class="absolute left-4 -top-2.5 text-xs font-medium text-purple-600 bg-white px-2 transition-all duration-200 
                   peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 
                   peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-purple-600">
            Sale Start Date
          </label>
        </div>

        <!-- Sale Start Time -->
        <div class="relative group">
          <input
            type="time"
            id="saleStartTime-{{i}}"
            name="saleStartTime-{{i}}"
            [(ngModel)]="ticket.saleStartTime"
            step="1"
            required
            class="peer w-full px-4 py-3 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 shadow-inner"
            placeholder="Sale Start Time"
          />
          <label for="saleStartTime-{{i}}"
            class="absolute left-4 -top-2.5 text-xs font-medium text-purple-600 bg-white px-2 transition-all duration-200 
                   peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 
                   peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-purple-600">
            Sale Start Time
          </label>
        </div>

        <!-- Sale End Date -->
        <div class="relative group">
          <input
            type="date"
            id="saleEndDate-{{i}}"
            name="saleEndDate-{{i}}"
            [(ngModel)]="ticket.saleEndDate"
            (change)="onSaleEndDateChange(i, $event)"
            required
            class="peer w-full px-4 py-3 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 shadow-inner"
            placeholder="Sale End Date"
          />
          <label for="saleEndDate-{{i}}"
            class="absolute left-4 -top-2.5 text-xs font-medium text-pink-600 bg-white px-2 transition-all duration-200 
                   peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 
                   peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-pink-600">
            Sale End Date
          </label>
        </div>

        <!-- Sale End Time -->
        <div class="relative group">
          <input
            type="time"
            id="saleEndTime-{{i}}"
            name="saleEndTime-{{i}}"
            [(ngModel)]="ticket.saleEndTime"
            step="1"
            required
            class="peer w-full px-4 py-3 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-xl text-gray-900 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 shadow-inner"
            placeholder="Sale End Time"
          />
          <label for="saleEndTime-{{i}}"
            class="absolute left-4 -top-2.5 text-xs font-medium text-pink-600 bg-white px-2 transition-all duration-200 
                   peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 
                   peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-pink-600">
            Sale End Time
          </label>
        </div>
      </div>
    </div>

    <!-- Total Tickets -->
    <div class="flex justify-center items-center py-4">
      <p class="text-sm sm:text-base font-medium text-gray-700">
        Total Tickets: 
        <span class="font-bold text-cyan-600">{{ totalTickets }}</span> / 
        <span class="text-teal-600">{{ eventCapacity }}</span>
      </p>
    </div>

    <!-- Error -->
    <div *ngIf="error" class="text-red-600 text-sm text-center mt-2 font-medium bg-red-50/60 rounded-lg py-2 px-4 animate-pulse">
      {{ error }}
    </div>

    <!-- Finish Button -->
    <button
      type="button"
      (click)="onFinish()"
      [disabled]="error || totalTickets === 0"
      class="w-full mt-6 py-3.5 bg-gradient-to-r from-cyan-500 via-teal-500 to-emerald-500 text-white font-bold text-base rounded-xl shadow-lg hover:shadow-xl transform hover:scale-[1.01] focus:scale-[0.99] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none relative overflow-hidden group"
    >
      <span class="relative z-10">Finish</span>
      <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
      <div class="absolute -inset-1 bg-gradient-to-r from-cyan-400 to-emerald-400 blur-xl opacity-0 group-hover:opacity-60 transition-opacity duration-500 -z-10"></div>
    </button>
  </form>
</div>